# include definitions of Diffpack Makefile variables:

# SWIG-specific make variables:
OBJS = ../PyCppFunctor.o
#LDPATH = -L$(EXTSOFT)/lib/swig1.3 


SWIG       = swig
SWIGOPT    = -c++ -python -shadow -I. -I..
TARGET     = PyCppFunctor
CXX        = g++ 
CXXSHARED  = g++ -shared
INCLUDES   = -I$(shell pyinc.py) -I..
CFLAGS     = -g -c -fpic
INTERFACE  = $(TARGET).i

# use the template makefile that was generated by SWIG:
# SWIG 1.3:
#SWIGMAKEFILE = $(SWIGSRC)/Examples/Makefile

all:: wrapper module

wrapper::
	swig $(SWIGOPT) $(INTERFACE)

module::
	$(CXX) $(CFLAGS) $(TARGET)_wrap.cxx $(INCLUDES)
	$(CXXSHARED) $(TARGET)_wrap.o $(OBJS) -o _$(TARGET).so

clean::
	rm -f *_wrap* *.so *.o $(OBJ_FILES)  *~

install::
	cp _*so MatSparse.py  $(PCCR)/lib/.
